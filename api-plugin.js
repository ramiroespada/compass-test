function o(e){const a=e.toString();let n=0;for(let t=0;t<a.length;t++){const i=a.charCodeAt(t);n=(n<<5)-n+i,n|=0}return n=(n>>>0)*2654435761%2**32,(n>>>0)/2**32}function M(e){const r=o(e);return Math.round((8e5+r*7e5)/1e3)*1e3}function g(e){return e%2?void 0:`https://i.pravatar.cc/150?img=${o(e)*50}`}function p(e){const a=e%6,n=[200,300,400];return new Array(a).fill(0).map((r,t)=>`https://picsum.photos/seed/pic_${e}_${t}/${n[e%n.length]}/${n[(e+1)%n.length]}`)}function u(e,a){const n=Math.floor(o(e*1e3+a)*5e3),r=h[e%h.length].split(" ");return{firstName:r[0],lastName:r[1],id:n,avatar:g(n)}}function A(e){const a=e%3;return new Array(a).fill(0).map((n,r)=>u(e,r))}const h=["Madelynn Macdonald","Hugh Petersen","Fernanda Jacobson","Legacy Boyer","Chaya Velez","Kareem Shields","Analia Mills","Alex Griffith","Alicia Townsend","Alexis Merritt","Kaisley Hartman","Baker Wilkinson","Siena Dunn","Dawson Figueroa","Lilith Rivera","Charles Brooks","Autumn Vang","Jimmy Merritt","Kaisley Wells","Max Porter","Ryleigh Carpenter","Jeremy Fields","Annie Baker","Ezra Koch","Milana Sanford","Truett Lee","Scarlett Hines","Uriel Graves","Elle Raymond","Maurice Escobar","Erin Gardner","Alan Benton","Anais Leblanc","Braden Martin","Mila Schwartz","Edwin Reed","Valentina Dalton","Fletcher McGuire","April Becker","Lawson Caldwell","Evelynn Jones","William Bishop","Brooklynn Davila","Grey Manning","Jennifer Thompson","Theodore Branch","Luisa Mendoza","Dominic Crane","Della Arias","Alec Grimes","Braelyn Gray","Nicholas Holt","Adelynn Valentine","Demetrius Rios","Brooke McGee","Conner Griffin","Charlie Harvey","Cayden Rubio","Hadassah Warren","Abel Middleton","Madalyn Casey","Armando Andersen","Zoie Berg","Cayson Hughes","Samantha Costa","Kenji Skinner","Mara Hamilton","Jason Clayton","Saige Mullen","Shepard Alvarez","Leilani Skinner","Ridge Rosario","Louisa Church","Terrance Brady","Ryan Stephenson","Joe Walsh","Leia Huffman","Chris Jarvis","Elisabeth Huynh","Layton McCoy","Mckenzie Short","Hezekiah McCormick","Macie Ward","Jameson Rivas","Averie Cummings","Raiden McGuire","April Merritt","Colten Leal","Murphy Conrad","Dilan Browning","Princess Reilly","Alvaro Trejo","Rosalyn Miller","Benjamin Austin","Alivia Mason","Brandon Bowers","Elisa Trevino","Jaime Rios","Brooke Banks","Martin Burke","Vera Kirby","Tony Buchanan","Maryam Spears","Ameer McGuire","April Rush","Kaiser Santana","Myra Atkins","Cason Jefferson","Julieta McMahon","Jakob Mason","Sienna Stafford","Alfredo Francis","Daniella Tate","Dalton Lyons","Kenzie Young","Asher Freeman","Norah Pham","Russell Quintana"],d=["Main St","Park Ave","Broadway","Elm St","Maple Ave","Oak St","Cedar Ln","Pine St","Washington St","Lake Ave"],m=["10001","10003","10005","10006","10008","10009","10010"];function C(e){return e<9e5?[2,1]:e<1e6?[2,1.5]:e<12e5?[3,1.5]:e<14e5?[4,2.5]:[4,3]}function B(e){const a=M(e,""),{bedrooms:n,bathrooms:r}=C(a);return{id:`1000${e}`,address:`${e*100} ${d[e%d.length]}`,city:"New York City",state:"NY",zipCode:m[e%m.length],price:a,bedrooms:n,bathrooms:r,isFavorite:e%5===0||e%7===0,agent:u(e,100),shares:A(e),photos:p(e)}}function S(e){return new Array(e).fill(0).map((a,n)=>B(n))}export default()=>({name:"mock-api",configureServer:async e=>{const a=S(100),n="/api/saved-listings";function r(t){if(!(o(t)<.1))return a.find(s=>s.id===t)}e.middlewares.use((t,i,s)=>{if(!t.url.startsWith(n))return s();if(Math.random()<.1){i.statusCode=500,i.end("Internal Server Error");return}const l=t.url.replace(n,"").match(/\/([^\/]+)$/),c=l?r(l[1]):a.map(({openHouses:v,...f})=>f);if(!c){i.statusCode=404,i.end("Not Found");return}const y=JSON.stringify(c);i.setHeader("Content-Type","application/json"),i.end(y)})}});
